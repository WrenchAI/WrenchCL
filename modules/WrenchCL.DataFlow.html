

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WrenchCL.DataFlow package &mdash; WrenchCL 0.0.1.dev0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=75d19225"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="WrenchCL.Decorators package" href="WrenchCL.Decorators.html" />
    <link rel="prev" title="WrenchCL.Connect package" href="WrenchCL.Connect.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            WrenchCL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">WrenchCL</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="WrenchCL.html">WrenchCL package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="WrenchCL.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="WrenchCL.Connect.html">WrenchCL.Connect package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">WrenchCL.DataFlow package</a></li>
<li class="toctree-l4"><a class="reference internal" href="WrenchCL.Decorators.html">WrenchCL.Decorators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="WrenchCL.Exceptions.html">WrenchCL.Exceptions package</a></li>
<li class="toctree-l4"><a class="reference internal" href="WrenchCL.Tools.html">WrenchCL.Tools package</a></li>
<li class="toctree-l4"><a class="reference internal" href="WrenchCL.scripts.html">WrenchCL.scripts package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="WrenchCL.html#module-WrenchCL">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">WrenchCL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">WrenchCL</a></li>
          <li class="breadcrumb-item"><a href="WrenchCL.html">WrenchCL package</a></li>
      <li class="breadcrumb-item active">WrenchCL.DataFlow package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/WrenchCL.DataFlow.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wrenchcl-dataflow-package">
<h1>WrenchCL.DataFlow package<a class="headerlink" href="#wrenchcl-dataflow-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-WrenchCL.DataFlow.build_return_json">
<span id="wrenchcl-dataflow-build-return-json-module"></span><h2>WrenchCL.DataFlow.build_return_json module<a class="headerlink" href="#module-WrenchCL.DataFlow.build_return_json" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.build_return_json.build_return_json">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.build_return_json.</span></span><span class="sig-name descname"><span class="pre">build_return_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_body</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/build_return_json.html#build_return_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.build_return_json.build_return_json" title="Link to this definition"></a></dt>
<dd><p>Constructs a JSON response body with the provided status code and message, optionally including a return dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>int</em>) – The HTTP status code to be included in the response.</p></li>
<li><p><strong>response_body</strong> (<em>any</em>) – A dictionary containing data to be included in the response body. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary representing the JSON response containing the status code, message, and optionally the return dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – No explicit exceptions are raised within this function.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-WrenchCL.DataFlow.handle_lambda_response">
<span id="wrenchcl-dataflow-handle-lambda-response-module"></span><h2>WrenchCL.DataFlow.handle_lambda_response module<a class="headerlink" href="#module-WrenchCL.DataFlow.handle_lambda_response" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.handle_lambda_response.GuardedResponseTrigger">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.handle_lambda_response.</span></span><span class="sig-name descname"><span class="pre">GuardedResponseTrigger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/handle_lambda_response.html#GuardedResponseTrigger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.handle_lambda_response.GuardedResponseTrigger" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Custom exception to signal early exit from the Lambda function.</p>
<dl class="py method">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.handle_lambda_response.GuardedResponseTrigger.get_response">
<span class="sig-name descname"><span class="pre">get_response</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/handle_lambda_response.html#GuardedResponseTrigger.get_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.handle_lambda_response.GuardedResponseTrigger.get_response" title="Link to this definition"></a></dt>
<dd><p>Retrieves the response associated with this exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The response dictionary associated with this exception.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.handle_lambda_response.handle_lambda_response">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.handle_lambda_response.</span></span><span class="sig-name descname"><span class="pre">handle_lambda_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/handle_lambda_response.html#handle_lambda_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.handle_lambda_response.handle_lambda_response" title="Link to this definition"></a></dt>
<dd><p>Handles the Lambda function response generation and logging based on the provided status code and message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>int</em>) – The HTTP status code to be included in the response.</p></li>
<li><p><strong>message</strong> (<em>str</em>) – The message to be included in the response body.</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – A dictionary containing parameters required for further processing.</p></li>
<li><p><strong>response_body</strong> (<em>dict</em>) – The json response body (optional).</p></li>
<li><p><strong>client_id</strong> (<em>str</em>) – The client ID (optional).</p></li>
<li><p><strong>entity_id</strong> (<em>str</em>) – The entity ID (optional).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#WrenchCL.DataFlow.handle_lambda_response.GuardedResponseTrigger" title="WrenchCL.DataFlow.handle_lambda_response.GuardedResponseTrigger"><strong>GuardedResponseTrigger</strong></a> – Custom exception to signal early exit from the Lambda function. If raised and not handled
at the Lambda handler level, this exception will cause an immediate return with the generated response. If caught
within nested calls, ensure to re-raise it as follows:
<code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">GuardedResponseTrigger</span> <span class="pre">as</span> <span class="pre">e:</span> <span class="pre">raise</span> <span class="pre">e</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-WrenchCL.DataFlow.trigger_dataflow_metrics">
<span id="wrenchcl-dataflow-trigger-dataflow-metrics-module"></span><h2>WrenchCL.DataFlow.trigger_dataflow_metrics module<a class="headerlink" href="#module-WrenchCL.DataFlow.trigger_dataflow_metrics" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.trigger_dataflow_metrics.trigger_dataflow_metrics">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.trigger_dataflow_metrics.</span></span><span class="sig-name descname"><span class="pre">trigger_dataflow_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/trigger_dataflow_metrics.html#trigger_dataflow_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.trigger_dataflow_metrics.trigger_dataflow_metrics" title="Link to this definition"></a></dt>
<dd><p>Triggers comprehensive dataflow metrics for a given job.</p>
<p>This function captures comprehensive dataflow metrics related to a job execution,
including details about resource usage, input/output counts, exception messages,
and other relevant information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>dict</em>) – The event input received by the Lambda function.</p></li>
<li><p><strong>context</strong> (<em>Any</em>) – The context object provided by AWS Lambda.</p></li>
<li><p><strong>lambda_client</strong> (<em>Any</em>) – The AWS Lambda client object.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments to provide more detailed metrics:
- job_type (str): The type of job being executed (e.g., glue, batch, lambda, fargate).
- job_name (str): The name of the job being executed.
- status_code (int): The status code indicating the result of the job execution.
- client_id (str, optional): The client ID associated with the job.
- action (str, optional): The action performed by the job.
- exception_msg (str, optional): The exception message encountered during the job execution.
- trigger (str): The type of job being executed (e.g., glue, batch, lambda, fargate).
- state_machine_name (str): The name of the state machine associated with the job.
- state_name (str): The name of the state under which the job is run.
- workflow_id (str): The ID of the workflow associated with the job.
- job_run_state (str): The state of the job execution (e.g., ‘Success’, ‘Failure’).
- client_job_processing_datetime (str): The processing datetime associated with the job.
- job_run_started_on (str): The start time of the job run.
- duration (None): The duration of the job execution.
- bootstrap_duration (float): The duration of the bootstrap process.
- lifecycle_duration (None): The duration of the job lifecycle.
- max_memory_used (None): The maximum memory used during the job execution.
- rows_input (Any): The number of input rows for the job.
- rows_input_detail (Any): Additional details about the input rows.
- rows_output (Any): The number of output rows for the job.
- rows_output_detail (Any): Additional details about the output rows.
- uuids_input_detail (Any): Details about the UUIDs of input rows.
- uuids_output (Any): Details about the UUIDs of output rows.
- s3_output_path (str): The S3 output path for the job.
- rds_target_table (str): The target RDS table for the job.
- rds_input_table (str): The input RDS table for the job.
- job_id (str): The ID of the job.
- memory_limit_in_mb (int): The memory limit in megabytes.
- time_remaining_in_ms (int): The time remaining in milliseconds.
- source_id (str): The ID of the source service.
- log_stream_name (str): The name of the log stream.
- log_group_name (str): The name of the log group.
- state_entered_time (str): The time when the state was entered.
- status_code (int): The status code indicating the result of the job execution.
- message (str): Additional message related to the job execution.
- action (str): The action performed by the job.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.trigger_dataflow_metrics.trigger_minimum_dataflow_metrics">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.trigger_dataflow_metrics.</span></span><span class="sig-name descname"><span class="pre">trigger_minimum_dataflow_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/trigger_dataflow_metrics.html#trigger_minimum_dataflow_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.trigger_dataflow_metrics.trigger_minimum_dataflow_metrics" title="Link to this definition"></a></dt>
<dd><p>Triggers the minimum dataflow metrics for a given job.</p>
<p>This function triggers the minimum set of dataflow metrics, capturing essential
information about the job execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>dict</em>) – The event input received by the Lambda function.</p></li>
<li><p><strong>context</strong> (<em>Any</em>) – The context object provided by AWS Lambda.</p></li>
<li><p><strong>lambda_client</strong> (<em>Any</em>) – The AWS Lambda client object.</p></li>
<li><p><strong>job_type</strong> (<em>str</em>) – The type of job being executed (e.g., glue, batch, lambda, fargate).</p></li>
<li><p><strong>job_name</strong> (<em>str</em>) – The name of the job being executed.</p></li>
<li><p><strong>status_code</strong> (<em>int</em>) – The status code indicating the result of the job execution.</p></li>
<li><p><strong>client_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The client ID associated with the job (optional).</p></li>
<li><p><strong>action</strong> (<em>str</em><em>, </em><em>optional</em>) – The action performed by the job (optional).</p></li>
<li><p><strong>exception_msg</strong> (<em>str</em><em>, </em><em>optional</em>) – The exception message encountered during the job execution (optional).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-WrenchCL.DataFlow">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-WrenchCL.DataFlow" title="Link to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.GuardedResponseTrigger">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.</span></span><span class="sig-name descname"><span class="pre">GuardedResponseTrigger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/handle_lambda_response.html#GuardedResponseTrigger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.GuardedResponseTrigger" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Custom exception to signal early exit from the Lambda function.</p>
<dl class="py method">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.GuardedResponseTrigger.get_response">
<span class="sig-name descname"><span class="pre">get_response</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/handle_lambda_response.html#GuardedResponseTrigger.get_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.GuardedResponseTrigger.get_response" title="Link to this definition"></a></dt>
<dd><p>Retrieves the response associated with this exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The response dictionary associated with this exception.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.build_return_json">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.</span></span><span class="sig-name descname"><span class="pre">build_return_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_body</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/build_return_json.html#build_return_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.build_return_json" title="Link to this definition"></a></dt>
<dd><p>Constructs a JSON response body with the provided status code and message, optionally including a return dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>int</em>) – The HTTP status code to be included in the response.</p></li>
<li><p><strong>response_body</strong> (<em>any</em>) – A dictionary containing data to be included in the response body. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary representing the JSON response containing the status code, message, and optionally the return dictionary.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – No explicit exceptions are raised within this function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.handle_lambda_response">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.</span></span><span class="sig-name descname"><span class="pre">handle_lambda_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/handle_lambda_response.html#handle_lambda_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.handle_lambda_response" title="Link to this definition"></a></dt>
<dd><p>Handles the Lambda function response generation and logging based on the provided status code and message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>int</em>) – The HTTP status code to be included in the response.</p></li>
<li><p><strong>message</strong> (<em>str</em>) – The message to be included in the response body.</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – A dictionary containing parameters required for further processing.</p></li>
<li><p><strong>response_body</strong> (<em>dict</em>) – The json response body (optional).</p></li>
<li><p><strong>client_id</strong> (<em>str</em>) – The client ID (optional).</p></li>
<li><p><strong>entity_id</strong> (<em>str</em>) – The entity ID (optional).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#WrenchCL.DataFlow.GuardedResponseTrigger" title="WrenchCL.DataFlow.GuardedResponseTrigger"><strong>GuardedResponseTrigger</strong></a> – Custom exception to signal early exit from the Lambda function. If raised and not handled
at the Lambda handler level, this exception will cause an immediate return with the generated response. If caught
within nested calls, ensure to re-raise it as follows:
<code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">GuardedResponseTrigger</span> <span class="pre">as</span> <span class="pre">e:</span> <span class="pre">raise</span> <span class="pre">e</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.trigger_dataflow_metrics">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.</span></span><span class="sig-name descname"><span class="pre">trigger_dataflow_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/trigger_dataflow_metrics.html#trigger_dataflow_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.trigger_dataflow_metrics" title="Link to this definition"></a></dt>
<dd><p>Triggers comprehensive dataflow metrics for a given job.</p>
<p>This function captures comprehensive dataflow metrics related to a job execution,
including details about resource usage, input/output counts, exception messages,
and other relevant information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>dict</em>) – The event input received by the Lambda function.</p></li>
<li><p><strong>context</strong> (<em>Any</em>) – The context object provided by AWS Lambda.</p></li>
<li><p><strong>lambda_client</strong> (<em>Any</em>) – The AWS Lambda client object.</p></li>
<li><p><strong>kwargs</strong> – Additional keyword arguments to provide more detailed metrics:
- job_type (str): The type of job being executed (e.g., glue, batch, lambda, fargate).
- job_name (str): The name of the job being executed.
- status_code (int): The status code indicating the result of the job execution.
- client_id (str, optional): The client ID associated with the job.
- action (str, optional): The action performed by the job.
- exception_msg (str, optional): The exception message encountered during the job execution.
- trigger (str): The type of job being executed (e.g., glue, batch, lambda, fargate).
- state_machine_name (str): The name of the state machine associated with the job.
- state_name (str): The name of the state under which the job is run.
- workflow_id (str): The ID of the workflow associated with the job.
- job_run_state (str): The state of the job execution (e.g., ‘Success’, ‘Failure’).
- client_job_processing_datetime (str): The processing datetime associated with the job.
- job_run_started_on (str): The start time of the job run.
- duration (None): The duration of the job execution.
- bootstrap_duration (float): The duration of the bootstrap process.
- lifecycle_duration (None): The duration of the job lifecycle.
- max_memory_used (None): The maximum memory used during the job execution.
- rows_input (Any): The number of input rows for the job.
- rows_input_detail (Any): Additional details about the input rows.
- rows_output (Any): The number of output rows for the job.
- rows_output_detail (Any): Additional details about the output rows.
- uuids_input_detail (Any): Details about the UUIDs of input rows.
- uuids_output (Any): Details about the UUIDs of output rows.
- s3_output_path (str): The S3 output path for the job.
- rds_target_table (str): The target RDS table for the job.
- rds_input_table (str): The input RDS table for the job.
- job_id (str): The ID of the job.
- memory_limit_in_mb (int): The memory limit in megabytes.
- time_remaining_in_ms (int): The time remaining in milliseconds.
- source_id (str): The ID of the source service.
- log_stream_name (str): The name of the log stream.
- log_group_name (str): The name of the log group.
- state_entered_time (str): The time when the state was entered.
- status_code (int): The status code indicating the result of the job execution.
- message (str): Additional message related to the job execution.
- action (str): The action performed by the job.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WrenchCL.DataFlow.trigger_minimum_dataflow_metrics">
<span class="sig-prename descclassname"><span class="pre">WrenchCL.DataFlow.</span></span><span class="sig-name descname"><span class="pre">trigger_minimum_dataflow_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/WrenchCL/DataFlow/trigger_dataflow_metrics.html#trigger_minimum_dataflow_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WrenchCL.DataFlow.trigger_minimum_dataflow_metrics" title="Link to this definition"></a></dt>
<dd><p>Triggers the minimum dataflow metrics for a given job.</p>
<p>This function triggers the minimum set of dataflow metrics, capturing essential
information about the job execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<em>dict</em>) – The event input received by the Lambda function.</p></li>
<li><p><strong>context</strong> (<em>Any</em>) – The context object provided by AWS Lambda.</p></li>
<li><p><strong>lambda_client</strong> (<em>Any</em>) – The AWS Lambda client object.</p></li>
<li><p><strong>job_type</strong> (<em>str</em>) – The type of job being executed (e.g., glue, batch, lambda, fargate).</p></li>
<li><p><strong>job_name</strong> (<em>str</em>) – The name of the job being executed.</p></li>
<li><p><strong>status_code</strong> (<em>int</em>) – The status code indicating the result of the job execution.</p></li>
<li><p><strong>client_id</strong> (<em>str</em><em>, </em><em>optional</em>) – The client ID associated with the job (optional).</p></li>
<li><p><strong>action</strong> (<em>str</em><em>, </em><em>optional</em>) – The action performed by the job (optional).</p></li>
<li><p><strong>exception_msg</strong> (<em>str</em><em>, </em><em>optional</em>) – The exception message encountered during the job execution (optional).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="WrenchCL.Connect.html" class="btn btn-neutral float-left" title="WrenchCL.Connect package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="WrenchCL.Decorators.html" class="btn btn-neutral float-right" title="WrenchCL.Decorators package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Willem van der Schans.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>